# üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä

@echo off
echo "üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞ ZIGGURAT MIND..."

echo ""

# –¢–µ—Å—Ç 1: –ö–æ–º–ø–∏–ª—è—Ü–∏—è
echo "üì¶ –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º..."
cargo check --bin ziggurat-ind

if %ERRORLEVEL% NEQ 0 (
    echo "‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏"
    goto :error
)

echo ""
echo "üì¶ –ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ README.md –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º"
echo ""

# –¢–µ—Å—Ç 2: –ë–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º –±–µ–∑ –ø–∞–º—è—Ç–∏
echo "üìù –¢–µ—Å—Ç 2: –ë–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º..."
cargo run --bin ziggurat-ind

if %ERRORLEVEL% NEQ 0 (
    echo "‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏"
    goto :error
)

echo ""
echo "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:"
echo "  models/embeddings/"
echo "  models/embeddings/config.json"
echo "  models/embeddings/tokenizer.json"
echo ""
)

# –¢–µ—Å—Ç 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
echo "üß† –¢–µ—Å—Ç 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è..."
cargo run --bin ziggurat-ind --enable-memory --if exist "models/embeddings"

if %ERRORLEVEL% NEQ 0 (
    echo "‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é"
    echo ""
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
    echo "üé≠ –í—ã–ø–æ–ª–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é:"
    echo "User: –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö"
    echo "Assistant: –Ø - —ç—Ç–æ AI —Å –ø–∞–º—è—Ç—å—é..."
    echo ""
    
    # –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
    echo "User: –ò–∑–≤–ª–µ–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ç '–Ω–µ–π—Ä–æ—Å–µ—Ç–∏'..."
    echo "Assistant: *–Ø –∑–∞–ø–æ–º–Ω–∏–ª –∫–æ–Ω—Ü–µ–ø—Ç '–Ω–µ–π—Ä–æ—Å–µ—Ç–∏'..."
    echo ""
    
    # –ë–µ–Ω—á–º–∞—Ä–∫–∏
    echo "User: –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ –Ω–µ–π—Ä–æ–Ω–Ω—ã–º —Å–µ—Ç—è–º"
    echo "Assistant: *–Ø –ø–æ–º–Ω—é —Ç–≤–æ–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ø—Ä–æ–µ–∫—Ç—É..."
    echo ""
    
    echo ""
    echo "üìä –í—Å–µ —Ç–µ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ test_results/"
    echo "üìä –ó–∞–ø—É—Å—Ç–∏—Ç–µ 'test_results' –ø–∞–ø–∫—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"
    echo ""
)